/* app/server
 * Host: bun. Exclusively to be run using Bun, thus does not need to specify
 * a `bun` dependency (but still needs `@bun/types` devDependency, or the older
 * alias `bun-types`). This means our module resolution can be very lenient.
 *
 * Bun recommended tsconfig:
 * "target": "esnext"
 * "module": "preserve"
 * "moduleResolution": "bundler"
 * "noEmit": "true":
 * "allowImportingTsExtensions": "true":
 */
{
  // relative paths in parent tsconfig are resolved relative to parent
  "extends": "../../tsconfig.json",
  "include": ["./src/**/*"],
  "compilerOptions": {

    "target": "esnext", // No transpilation; largely irrelevant.
    "lib": ["ESNext"],

    "module": "preserve", // Don't use TypeScript to convert our module format.
    "moduleResolution": "bundler",

    // Native TypeScript. No declarations, no JavaScript.
    "noEmit": true,
    "allowImportingTsExtensions": true, // (requires noEmit)
  }
}
